TCP retransmission is the mechanism TCP uses to guarantee reliability.
When data is sent but the sender does not receive an acknowledgment (ACK), TCP will retransmit that data.




ğŸ” What is TCP Retransmission?

TCP retransmission means:

If the receiver does not ACK the data, the sender will resend it.

TCP assumes the packet was lost, delayed, or corrupted.





ğŸš¨ When does retransmission happen?

TCP retransmits data in three main cases:

1. Timeout (RTO â€” Retransmission Timeout)

If the sender sends a packet but doesn't receive ACK before timeout, it resends the packet.

Example:

Sender â†’ Receiver
Seq=1000 Len=500

If no ACK after RTO:

Sender retransmits â†’
Seq=1000 Len=500 (retransmitted)

TCP keeps increasing the timeout each time (exponential backoff):


| Attempt | Wait Time |
| ------- | --------- |
| 1st RTO | 1 Ã— base  |
| 2nd RTO | 2 Ã— base  |
| 3rd RTO | 4 Ã— base  |
| ...     | ...       |





2. Fast Retransmit (3 Duplicate ACKs)

If the receiver gets out-of-order packets (missing one packet), it sends duplicate ACKs.

Example:

Receiver expects ACK=1500, but gets later packets:

ACK 1500

ACK 1500 (dup)

ACK 1500 (dup)

ACK 1500 (dup)

Once sender receives 3 duplicate ACKs, it performs fast retransmit:

â†’ Immediately resend the missing packet without waiting for timeout.

This is faster than RTO and is part of TCP congestion control (Reno, CUBIC).

3. Selective Acknowledgment (SACK) Retransmission

If SACK is enabled (most systems today), receiver says:

â€œI got these blocks, but this block is missing.â€

Example SACK option:

ACK=1500 SACK=[2000-2500] [2500-3000]


Meaning:

"I have 2000â€“3000"

"I am missing 1500â€“2000"

Sender retransmits only missing segments.



| Mechanism                        | Trigger                  | Speed          |
| -------------------------------- | ------------------------ | -------------- |
| **Timeout retransmission (RTO)** | No ACK before timeout    | Slow           |
| **Fast retransmit**              | 3 duplicate ACKs         | Fast           |
| **SACK-based retransmission**    | Missing blocks specified | Most efficient |











Suppose we send packets:

Seq=1  (Sent)
Seq=2  (Sent)
Seq=3  (Sent)


Receiver gets only packets 1 and 3 (packet 2 lost).
It sends duplicate ACKs for Seq=2 three times.

Sender sees:

ACK 2
ACK 2
ACK 2


â†’ triggers Fast Retransmit â†’ retransmits Seq=2.






