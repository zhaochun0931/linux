openssl genrsa -out ca.key 4096


openssl req -x509 -new -nodes -key ca.key \
  -sha256 -days 3650 \
  -out ca.crt \
  -subj "/CN=MyTestCA"




  

openssl genrsa -out server.key 2048

openssl req -new -key server.key \
  -out server.csr \
  -subj "/CN=server.example.com"


openssl x509 -req -in server.csr \
  -CA ca.crt -CAkey ca.key -CAcreateserial \
  -out server.crt -days 365 -sha256 \
  -extfile server-ext.cnf





  

openssl pkcs12 -export \
  -in server.crt \
  -inkey server.key \
  -name server \
  -out server.p12 \
  -password pass:changeit



keytool -importkeystore \
  -srckeystore server.p12 \
  -srcstoretype pkcs12 \
  -srcstorepass changeit \
  -destkeystore server.jks \
  -deststoretype jks \
  -deststorepass changeit


keytool -import \
  -alias myca \
  -file ca.crt \
  -keystore truststore.jks \
  -storepass changeit \
  -noprompt
