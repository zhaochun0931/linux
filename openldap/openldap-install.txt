#install openladap

apt update

apt install slapd ldap-utils -y

# DNS domain name: example.com

dpkg-reconfigure slapd



/etc/ldap/ldap.conf

BASE    dc=example,dc=com
URI     ldap://ldap.example.com ldap://ldap-provider.example.com:666


/etc/hosts
10.0.0.5 ldap.example.com









ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:///

# ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:///
dn: dc=example,dc=com
objectClass: top
objectClass: dcObject
objectClass: organization
o: test
dc: example

#





# Anonymous Bind
ldapsearch -H ldap://localhost -x
ldapsearch -H ldap://10.0.0.5 -x




# add group
ldapadd -x -D cn=admin,dc=example,dc=com -W -f group.ldif


# password hash
slappasswd


# add user
ldapadd -x -D cn=admin,dc=example,dc=com -W -f user.ldif


# test openldap

ldapsearch -x -b "DC=example,DC=com"
ldapsearch -x -b "uid=demo,ou=people,dc=example,dc=com"




