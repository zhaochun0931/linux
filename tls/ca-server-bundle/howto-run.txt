openssl genrsa -out ca.key 4096

openssl req -x509 -new -nodes \
  -key ca.key \
  -sha256 -days 365 \
  -subj "/CN=MyTestCA" \
  -out ca.crt




  
  


openssl genrsa -out server.key 2048

openssl req -new -key server.key \
  -out server.csr \
  -config openssl.cnf



openssl x509 -req \
  -in server.csr \
  -CA ca.crt -CAkey ca.key -CAcreateserial \
  -out server.crt \
  -days 365 \
  -sha256 \
  -extensions req_ext -extfile openssl.cnf






cat server.crt ca.crt > fullchain.pem



openssl verify -CAfile ca.crt server.crt



  

openssl s_server -cert fullchain.pem -key server.key -port 8443

openssl s_client -connect localhost:8443 -CAfile ca.crt


  
