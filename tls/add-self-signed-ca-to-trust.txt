# add the self signed certificat ca to trust store in Ubuntu linx



Answer the questions asked after executing the command. When asked to input a commonName (CN), it should match the hostname of the server.

openssl req -x509 -new -nodes -keyout local-ca.key -out local-ca.crt





• Install the CA certificate package
sudo apt-get install -y ca-certificates







• Copy your certificate to the local CA certificates directory

cp local-ca.crt /usr/local/share/ca-certificates/



• Add the certificate to your trust store

update-ca-certificates



• Verify that your certificate is in pem format
sudo ls /etc/ssl/certs/ | grep local-ca





It is important that the certificate file has the .crt extension, otherwise it will not be processed.












/usr/local/share/ca-certificates




This also creates a /etc/ssl/certs/myca.pem symlink pointing to the real file in /usr/local/share/ca-certificates


# ll /etc/ssl/certs/myca.pem
lrwxrwxrwx 1 root root 41 May 10 01:18 /etc/ssl/certs/myca.pem -> /usr/local/share/ca-certificates/myca.crt
#















curl --cert server.crt --key server.key https://xiaoming.com











# On CentOS/RedHat:


sudo cp minio.crt /etc/pki/ca-trust/source/anchors/
sudo update-ca-trust
