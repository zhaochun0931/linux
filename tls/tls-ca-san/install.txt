1️⃣ Create your CA

# Generate CA private key
openssl genrsa -out ca-key.pem 4096

# Create self-signed CA certificate
openssl req -x509 -new -nodes -key ca-key.pem -sha256 -days 3650 -out ca-crt.pem -subj "/C=US/ST=CA/L=SanFrancisco/O=MyOrg/OU=IT/CN=MyRootCA"












2️⃣ Generate Server Key + CSR with SAN

First, create an OpenSSL config file (san.cnf):

openssl genrsa -out server-key.pem
openssl req -new -key server-key.pem -out server.csr -config san.cnf




3️⃣ Sign Server CSR with CA
openssl x509 -req -in server.csr -CA ca-crt.pem -CAkey ca-key.pem -CAcreateserial -out server.crt -days 825 -sha256 -extensions req_ext -extfile san.cnf


You now have:
server.key (private key)
server.crt (signed by CA)
ca.crt (trust anchor)

4️⃣ Verify SANs
openssl x509 -in server.crt -text -noout | grep -A1 "Subject Alternative Name"


You should see DNS:myserver.local, DNS:localhost, IP:127.0.0.1.
