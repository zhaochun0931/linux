1️⃣ Create your CA

# Generate CA private key
openssl genrsa -out myca.key 4096

# Create self-signed CA certificate
openssl req -x509 -new -nodes -key myca.key -sha256 -days 3650 -out myca.crt -subj "/C=US/ST=CA/L=SanFrancisco/O=MyOrg/OU=IT/CN=MyRootCA"












2️⃣ Generate Server Key + CSR with SAN

First, create an OpenSSL config file (san.cnf):

openssl genrsa -out myserver.key
openssl req -new -key myserver.key -out myserver.csr -config san.cnf




3️⃣ Sign Server CSR with CA
openssl x509 -req -in myserver.csr -CA myca.crt -CAkey myca.key -CAcreateserial -out myserver.crt -days 825 -sha256 -extensions req_ext -extfile san.cnf


You now have:
server.key (private key)
server.crt (signed by CA)
ca.crt (trust anchor)

4️⃣ Verify SANs
openssl x509 -in myserver.crt -text -noout | grep -A1 "Subject Alternative Name"


You should see DNS:myserver.local, DNS:localhost, IP:127.0.0.1.
