# server

sudo apt install nfs-kernel-server -y



sudo systemctl start nfs-kernel-server.service

sudo systemctl status nfs-kernel-server.service



mkdir xxx

chmod 777 xxx


cat << done >> /etc/exports
/root/xxx *(rw,sync,no_subtree_check)
done







# how to configure

You can configure the directories to be exported by adding them to the /etc/exports file




Apply the new config via:
sudo exportfs -a







# client

apt install nfs-common -y

mkdir /root/yyy
mount host1:/root/xxx /root/yyy












# The NFS service also requires that the RPC service be running (rpcbind). The nfs-server service automatically starts the rpcbind service

systemctl start nfs-server
systemctl status rpcbind



For NFS to work, the following ports need to be open:

2049/tcp: NFS

111/tcp and 111/udp: Portmapper/rpcbind

20048/tcp and 20048/udp: NFS mount daemon (optional)











exportfs -rav

# exportfs -rav
/tmp/repository
		172.80.0.226/32(sync,wdelay,hide,no_subtree_check,sec=sys,rw,secure,root_squash,no_all_squash)
#





# nfs client
sudo mount 172.80.0.217:/tmp/repository/ /tmp/repository/

